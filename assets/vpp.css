/* Strictly-scoped VPP CSS to avoid theme/header collisions */
body.vpp-body{margin:0;min-height:100vh;background:#f7f8fb;color:#0f172a;color-scheme:light;
  -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
  font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;line-height:1.55}

.vpp{--ink:#0f172a;--muted:#6b7280;--ink-2:#1e293b;--card:#ffffff;--glow:rgba(37,99,235,0.55);
     --ring:rgba(148,163,184,0.25);--stroke:rgba(148,163,184,0.15);--brand-1:#2563eb;--brand-2:#3b82f6}

.vpp-container{max-width:1120px;margin:0 auto;padding:28px 16px}
.vpp a{color:var(--brand-1);text-decoration:none}
.vpp a:hover{text-decoration:underline}

.vpp .card,.vpp .card-elevated{
  background:linear-gradient(180deg,rgba(248,250,252,.9),var(--card) 55%);
  border-radius:20px;padding:20px;border:1px solid var(--stroke);
  box-shadow:0 18px 50px rgba(15,23,42,.08)
}
.vpp .card-elevated{box-shadow:0 28px 80px rgba(15,23,42,.12),0 1px 0 var(--ring)}

.vpp-hero{margin-bottom:18px;background:linear-gradient(160deg,rgba(226,232,240,.35),rgba(255,255,255,.95))}
.vpp-grid{display:grid;grid-template-columns:1.1fr 1fr;gap:28px}
@media (max-width:960px){.vpp-grid{grid-template-columns:1fr}}

.vpp-media{display:flex;flex-direction:column;gap:12px}
.vpp-carousel{position:relative;border-radius:16px;overflow:hidden;background:#eef2f7;
  box-shadow:0 18px 40px rgba(15,23,42,.12)}
.vpp-carousel + .vpp-carousel-thumbs{margin-top:10px}
.vpp-carousel-thumbs{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;align-items:center}
.vpp-carousel-thumb{border:0;background:rgba(255,255,255,.85);padding:0;width:72px;height:72px;border-radius:14px;overflow:hidden;cursor:pointer;box-shadow:0 12px 28px rgba(15,23,42,.12);transition:transform .2s ease, box-shadow .2s ease, opacity .2s ease;position:relative}
.vpp-carousel-thumb img{width:100%;height:100%;object-fit:cover;display:block;background:#e2e8f0}
.vpp-carousel-thumb:hover{transform:translateY(-2px);box-shadow:0 18px 36px rgba(15,23,42,.18)}
.vpp-carousel-thumb.is-active{box-shadow:0 0 0 2px rgba(37,99,235,.85),0 18px 36px rgba(37,99,235,.28);transform:translateY(-1px)}
.vpp-carousel-thumb:focus-visible{outline:3px solid rgba(59,130,246,.55);outline-offset:3px}
.vpp-carousel-thumb[aria-pressed="false"]{opacity:.7}
.vpp-carousel-thumb[aria-pressed="false"]:hover{opacity:1}
.vpp-carousel-frame{position:relative}
.vpp-carousel-image{display:none;width:100%;height:auto;border-radius:16px;object-fit:contain;
  background:#eef2f7;transition:opacity .25s ease}
.vpp-carousel-image.is-active{display:block;opacity:1}
.vpp-carousel-nav{position:absolute;top:50%;transform:translateY(-50%);border:0;background:rgba(15,23,42,.55);
  color:#fff;width:42px;height:42px;border-radius:999px;display:flex;align-items:center;justify-content:center;
  cursor:pointer;transition:background .2s ease, transform .2s ease;box-shadow:0 10px 28px rgba(15,23,42,.25)}
.vpp-carousel-nav:hover{background:rgba(15,23,42,.68);transform:translateY(-50%) scale(1.05)}
.vpp-carousel-nav:focus-visible{outline:3px solid rgba(59,130,246,.55);outline-offset:2px}
.vpp-carousel-nav[data-dir="prev"]{left:12px}
.vpp-carousel-nav[data-dir="next"]{right:12px}
.vpp-carousel-nav svg{width:18px;height:18px}
.vpp-carousel-nav[disabled]{opacity:.45;pointer-events:none}
.vpp-placeholder{display:flex;align-items:center;justify-content:center;height:360px;border-radius:16px;
  background:linear-gradient(180deg,#f8fafc,#e2e8f0);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.6),0 20px 40px rgba(15,23,42,.08)}
.vpp-ph-img{width:60%;height:70%;border-radius:16px;
  background:repeating-linear-gradient(45deg,#e2e8f0,#e2e8f0 12px,#f8fafc 12px,#f8fafc 24px)}

.vpp-summary{display:flex;flex-direction:column;gap:8px}
.vpp-title{margin:0;font-weight:800;color:#111827;font-size:clamp(1.6rem,2.4vw,2.25rem)}
.vpp-meta{margin:0;color:var(--muted)}
.vpp-short{margin:.2rem 0 0;color:#374151;font-size:.98rem;max-width:60ch}

.vpp-cta-block{margin-top:.75rem;display:flex;flex-direction:column;gap:.75rem}
.vpp-price-callout{margin-top:1rem;padding:1.15rem 1.35rem;border-radius:18px;background:rgba(37,99,235,.08);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.65),0 12px 30px rgba(37,99,235,.18);color:#0f172a;font-weight:800;
  font-size:clamp(1.45rem,2.75vw,2.3rem);line-height:1.2}
.vpp-price-callout span{display:block}
.vpp-cta-button{display:flex;align-items:center;justify-content:center;text-decoration:none;color:#fff!important;
  background:linear-gradient(135deg,var(--brand-1),var(--brand-2));border-radius:999px;font-weight:700;padding:.95rem 1.4rem;
  position:relative;box-shadow:0 16px 32px rgba(37,99,235,.4);transition:transform .2s, box-shadow .2s;min-height:56px;text-align:center}
.vpp-cta-button.glow::before{content:"";position:absolute;inset:-3px;border-radius:999px;
  background:radial-gradient(120% 120% at 50% 0%, rgba(59,130,246,.65), rgba(59,130,246,.18) 60%, transparent 72%);
  filter:blur(8px);z-index:-1}
.vpp-cta-button:hover{transform:translateY(-2px);box-shadow:0 24px 48px rgba(37,99,235,.55)}
.vpp-cta-button:focus-visible{outline:3px solid rgba(59,130,246,.45);outline-offset:2px}

.vpp-content{margin-top:18px}
.vpp-content.card{background:linear-gradient(180deg,rgba(248,250,252,.9),var(--card) 55%)}
.vpp-content h2{font-size:1.25rem;margin:1rem 0 .5rem}
.vpp-content h3{font-size:1.05rem;margin:.75rem 0 .35rem}
.vpp-content p{margin:.5rem 0}
.vpp-content table{width:100%;border-collapse:collapse;margin:.75rem 0}
.vpp-content th,.vpp-content td{border:1px solid #e5e7eb;padding:.55rem .65rem;text-align:left}
.vpp-content a{color:#2563eb}

.vpp-inline{padding:.25rem .5rem;border-radius:8px;font-size:12px}
.vpp-inline.ok{background:#e6ffed;color:#065f46}
.vpp-inline.err{background:#fee2e2;color:#991b1b}

.vpp-cat-hero{display:flex;flex-direction:column;gap:8px;margin-bottom:18px;background:linear-gradient(150deg,rgba(226,232,240,.38),rgba(255,255,255,.95))}
.vpp-cat-title{margin:0;font-weight:800;color:var(--ink);font-size:clamp(1.85rem,3vw,2.45rem)}
.vpp-cat-subtitle{margin:0;color:var(--muted);font-size:1rem}
.vpp-cat-grid-wrap{margin-top:18px}
.vpp-cat-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(190px,1fr));gap:18px}
.vpp-cat-card{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;
  border-radius:22px;padding:26px;background:linear-gradient(160deg,rgba(255,255,255,.95),rgba(226,232,240,.6));
  border:1px solid rgba(148,163,184,.18);box-shadow:0 16px 48px rgba(15,23,42,.1);text-decoration:none;color:var(--ink);
  transition:transform .2s ease, box-shadow .2s ease;background-blend-mode:overlay;min-height:0;aspect-ratio:1/1}
.vpp-cat-card::after{content:"";position:absolute;inset:14px;border-radius:18px;border:1px solid rgba(148,163,184,.18);
  pointer-events:none;opacity:.75}
.vpp-cat-card:hover{transform:translateY(-4px);box-shadow:0 22px 56px rgba(37,99,235,.22)}
.vpp-cat-card:focus-visible{outline:3px solid rgba(59,130,246,.55);outline-offset:4px}
.vpp-cat-name{font-weight:700;font-size:1.05rem;text-align:center;color:var(--ink-2)}
.vpp-cat-count{font-size:.9rem;color:var(--muted)}
.vpp-cat-empty{text-align:center;font-size:1rem;color:var(--muted)}

.vpp-archive-hero{display:flex;flex-direction:column;gap:6px;margin-bottom:18px;background:linear-gradient(150deg,rgba(226,232,240,.38),rgba(255,255,255,.95))}
.vpp-archive-title{margin:0;font-weight:800;color:var(--ink);font-size:clamp(1.9rem,3vw,2.5rem)}
.vpp-archive-subtitle{margin:0;color:var(--muted)}
.vpp-archive-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:24px;margin-top:20px}
@media (max-width:1024px){.vpp-archive-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media (max-width:640px){.vpp-archive-grid{grid-template-columns:1fr}}
.vpp-archive-card{position:relative;display:flex;flex-direction:column;justify-content:space-between;gap:16px;padding:24px;
  border-radius:24px;background:linear-gradient(175deg,rgba(248,250,252,.95),#fff 65%);
  border:1px solid rgba(148,163,184,.18);box-shadow:0 24px 64px rgba(15,23,42,.1);min-height:0;aspect-ratio:1/1;
  transition:transform .2s ease, box-shadow .2s ease}
.vpp-archive-card::after{content:"";position:absolute;inset:18px;border-radius:20px;border:1px solid rgba(148,163,184,.12);
  pointer-events:none;opacity:.6}
.vpp-archive-card:hover{transform:translateY(-6px);box-shadow:0 32px 84px rgba(37,99,235,.22)}
.vpp-archive-card-header{display:flex;flex-direction:column;gap:8px}
.vpp-archive-card-title{margin:0;font-size:clamp(1.05rem,1.8vw,1.3rem);font-weight:800;color:var(--ink-2)}
.vpp-archive-card-meta{margin:0;color:var(--muted);font-size:.9rem}
.vpp-archive-card-thumb{width:100%;aspect-ratio:4/3;border-radius:18px;overflow:hidden;background:linear-gradient(150deg,#e2e8f0,#f1f5f9);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.6),0 18px 40px rgba(15,23,42,.12);display:flex;align-items:center;justify-content:center}
.vpp-archive-card-thumb img{width:100%;height:100%;object-fit:cover}
.vpp-archive-card-thumb.placeholder{background:linear-gradient(150deg,#e2e8f0,#f8fafc)}
.vpp-archive-card-body{display:flex;flex-direction:column;gap:10px;flex:1 1 auto}
.vpp-archive-card-summary{margin:0;color:var(--ink);font-size:.95rem;line-height:1.5;display:-webkit-box;-webkit-line-clamp:3;
  -webkit-box-orient:vertical;overflow:hidden}
.vpp-archive-card-footer{margin-top:auto;padding-top:12px}
.vpp-archive-card-button{display:inline-flex;align-items:center;justify-content:center;padding:.8rem 1.4rem;border-radius:999px;
  background:linear-gradient(135deg,var(--brand-1),var(--brand-2));color:#fff!important;font-weight:700;text-decoration:none;
  box-shadow:0 18px 36px rgba(37,99,235,.35);transition:transform .2s ease, box-shadow .2s ease}
.vpp-archive-card-button:hover{transform:translateY(-2px);box-shadow:0 26px 52px rgba(37,99,235,.45);text-decoration:none}
.vpp-archive-card-button:focus-visible{outline:3px solid rgba(59,130,246,.5);outline-offset:3px}
.vpp-archive-empty{text-align:center;color:var(--muted);font-size:1rem}

.vpp-pagination{margin:26px 0;display:flex;justify-content:center}
.vpp-pagination-list{display:inline-flex;gap:6px;padding:0;margin:0;list-style:none}
.vpp-page-item{display:inline-flex}
.vpp-page-link{display:inline-flex;align-items:center;justify-content:center;padding:10px 16px;border-radius:999px;font-weight:600;
  background:rgba(148,163,184,.18);color:var(--ink);text-decoration:none;transition:background .2s ease, color .2s ease}
.vpp-page-item.active .vpp-page-link{background:linear-gradient(135deg,var(--brand-1),var(--brand-2));color:#fff}
.vpp-page-item.disabled .vpp-page-link{opacity:.5;pointer-events:none}
.vpp-page-link:hover{background:rgba(59,130,246,.18);text-decoration:none}
.vpp-page-link:focus-visible{outline:3px solid rgba(59,130,246,.5);outline-offset:2px}

@media (max-width:420px){
  .vpp-container{padding:18px 12px}
  .vpp-cta-button{padding:.85rem 1.1rem}
  .vpp-carousel-nav{width:38px;height:38px}
  .vpp-carousel-thumb{width:60px;height:60px}
  .vpp-cat-grid{grid-template-columns:repeat(auto-fill,minmax(150px,1fr))}
  .vpp-archive-grid{grid-template-columns:1fr}
}
